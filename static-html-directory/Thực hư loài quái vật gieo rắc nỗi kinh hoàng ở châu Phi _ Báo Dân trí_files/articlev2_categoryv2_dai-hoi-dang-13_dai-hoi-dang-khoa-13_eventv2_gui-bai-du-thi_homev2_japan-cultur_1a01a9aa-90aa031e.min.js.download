(window.WssBaomoiWebJsonp=window.WssBaomoiWebJsonp||[]).push([[3],{160:function(n,t,e){e(167);var d=e(0);e(2).factory("bannerCMS",["bannerData","$rootScope","$compile",function(r,c,s){return function(e,n,t,i,a){i=i||"";var o=r.load(n.map(function(n){return{category:t,position:n}})).then(function(n){return n=(n||[]).map(function(n){return n||{ads:[]}})});return(o||[]).length<=0&&a?d.resolve(!1):d.fcall(function(){return $q.all(n.map(function(n){return t=n,o.then(function(n){n=n.filter(function(n){return n.position==t})[0].ads;return n[parseInt(1234*Math.random((new Date).getTime()))%n.length]}).then(function(n){var t=c.$new();t.banner=n,$(e.el).append(s($("<div image-banner ".concat(i,'  banner="banner"/>')))(t))});var t}))}).then(function(){return!0})}}])},167:function(n,t,e){n.exports=e(2).directive("imageBanner",["config",function(t){return{scope:{banner:"="},template:'\n    <style>\n    .banner-ds img {\n    width:100%;\n    }\n    </style>            \n    <div ng-if="banner" class="banner-ds">\n    <a ng-href="{{banner.link}}" target="_blank">\n    <img ng-src="{{getImage(banner.image)}}"/>\n    </a>\n    </div>\n              ',link:function(n){n.getImage=function(n){if(void 0!==n)return n.match(/^http/)?n:t.ImageDomain+"/"+n.replace(/^\/+/,"")}}}}]).directive("autoBanner",["config","bannerData",function(i,a){return{restrict:"AE",scope:!1,template:'\n<style>\n.banner-ds img {\nwidth:100%;\n}\n</style>            \n<div ng-if="banner" class="banner-ds">\n<a ng-href="{{banner.link}}" target="_blank">\n<img ng-src="{{banner.image}}"/>\n</a>\n</div>\n          ',link:function(t,e,n){a.getJson(e).then(function(n){a.getBanner(n.category,n.position).then(function(n){n&&n.length?((n=n[parseInt(Math.random()*n.length*57005)%n.length]).image.match(/^http/)||(n.image="/".concat(n.image).replace(/\/+/g,"/"),n.image="".concat(i.ImageDomain).concat(n.image)),t.banner=n):$(e).addClass("hidden")})})}}}])},170:function(n,t,e){function u(n){return function(n){if(Array.isArray(n))return i(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return i(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Map"===(e="Object"===e&&n.constructor?n.constructor.name:e)||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}e(34).GOOGLE;var a=e(0),o=e(225);e(2).service("googleService",["config","externalScript","adsSlot",function(c,t,n){var s=0;window.googletag=window.googletag||{cmd:[]};var d=window.googletag,l=[],e=[];this.addGoogleHandler=function(r,n){return n.forEach(function(e){e.id=e.id||(s+=1);var i=[].concat(e.cmd),a=i.shift();"defineslot"==a.toLowerCase()&&((n=i[0].split("/"))[1]=c.AdsManagerCode,i[0]=n.join("/")),i.push(e.id),e.fn=function(){var n,t=(n=d[a]).call.apply(n,[window].concat(u(i)));return void 0!==e.sizeMapping&&(n=e.sizeMapping(d),t.defineSizeMapping(n)),t};var n,t=$('\n            <div style="'.concat(e.style||"",'"id="').concat(e.id,'"></div>\n            '))[0],o=$('<div align="center" style="'.concat("line-height:0px; align:center;",'" class="').concat(e.cssClass||"",'"></div>')).append(t);e.sticky?((n=$('<div class="col col--secondary dt-sticky-wrapper"></div>')).append(o),(t=$(r.el).closest(".col--secondary"))&&t.length&&(t.parent().after().append(n),o.addClass("x-dt-ads-sticky"),o.data("sl",e))):$(r.el).append(o),l.push(e)}),!0},this.slotExecuted=e,n.onDomLoaded.then(function(n){console.log("Dom loaded"),a.any(e).then(function(){0!=l.length&&t("https://securepubads.g.doubleclick.net/tag/js/gpt.js").then(function(){var t=a.defer();return function n(){void 0===d||void 0===d.pubads||void 0===d.pubads().addEventListener?setTimeout(n,100):t.resolve()}(),t.promise}).then(function(){console.log("Google Ads Loaded");var t=a.defer();if(t.promise.then(function(){window.dtAdSticky||(window.dtAdSticky=!0,o())}),l.length){try{d.pubads().addEventListener("slotRenderEnded",function(n){t.resolve()})}catch(n){console.error("google error",n)}l.forEach(function(t){try{d.cmd.push(function(){var n=t.fn.call(window);null!=n&&void 0!==n&&void 0!==n.addService&&n.addService(d.pubads())})}catch(n){console.log("Google Ads error",t.id,n)}}),d.cmd.push(function(){d.pubads().setTargeting("url",window.location.pathname),"undefined"!=typeof ggCatList&&(ggCatList="/".concat(ggCatList,"/"),d.pubads().setTargeting("catlist",ggCatList),console.log(ggCatList)),d.pubads().enableSingleRequest(),d.pubads().collapseEmptyDivs(),d.enableServices(),l.forEach(function(n){d.display(n.id)})})}})})})}])},173:function(n,t,i){var m=i(0);i(662),i(663),i(170);var h=i(664).escapedHtml,c=i(665),v=(i(34).ADMICRO_AFTER,i(34).DANTRI);i(209);var _=window.wDataLayer||{};_.cate_id=_.cate_id||0,36===_.cate_id&&(i(667),i(415)),i(39),i(250),i(160),i(2).directive("videoAdsBox",[function(){return{scope:{vId:"@"},template:i(208),link:function(n){var t=n.vId;n.videoId=t}}}]).provider("CoTheBanQuanTamSettings",function(){var e={zoneId:-1,position:1};this.setZone=function(n,t){e.zoneId=n,e.position=t},this.$get=["config",function(n){return e}]}).service("xds-dantri",["config","bannerData","doanhNghiepTienPhong","externalScript","adsSlot","$compile","$rootScope","$http","googleService","hijackCognito","bannerCMS","CoTheBanQuanTamSettings",function(i,a,c,o,s,d,l,n,u,g,p,f){return function(){var n=s.getSlots(),r={ads:[]},t=f.zoneId<0?_.cate_id:f.zoneId,e=a.load([{pos:f.position,cat:t=null==(t=void 0===t?0:t)?0:t},{pos:10,cat:0}].map(function(n){return{category:n.cat,position:n.pos}})).then(function(n){return r=(n||[]).filter(function(n){return 1==n.position}).map(function(n){return n||{ads:[]}}),n=(n||[]).filter(function(n){return 10==n.position}).map(function(n){return n||{ads:[]}}),r[0].ads=r[0].ads.sort(function(){return Math.random()-.5}),n[0].ads=n[0].ads.sort(function(){return Math.random()-.5}),n});n.forEach(function(o){switch(o.id){case i.XdsSlots.CATEGORY_BACKGROUND:u.slotExecuted.push(o.addHandler(v,function(){return!1}));break;case i.XdsSlots.HOME_MIDDLE_COLUMN_BOTTOM:o.addHandler(v,function(){return $(o.el).append(d('<div dantri-widget-vote zone-id="0"></div>')(l.$new())),p(o,[24],0),!0});break;case i.XdsSlots.TOP_NEXT_TO_DT_LOGO:o.addHandler(v,function(){return console.log("dantri ",i.XdsSlots.TOP_NEXT_TO_DT_LOGO),$(o.el).append(d('<div class="site-widget__wrapper" weather-v3></div>')(l.$new())),!0});break;case i.XdsSlots.HOME_TOP_RIGHT:o.addHandler(v,function(){return!1});break;case i.XdsSlots.HOME_PRIMARY_BOTTOM:o.addHandler(v,function(){var n=$("<div weather></div>"),n=d(n)(l.$new());return $(o.el).append(n),!0});break;case i.XdsSlots.HOME_CENTER_BANNER:o.addHandler(v,function(){return!1});break;case i.XdsSlots.TOP_HEADER:o.addHandler(v,function(){return!!$("body").hasClass("emagazinev2")});case i.XdsSlots.CATEGORY_TOP_RIGHT:o.addHandler(v,function(){return!1});break;case i.XdsSlots.CATEGORY_MIDDLE_CENTER:o.addHandler(v,function(){return $(o.el).append(d('<div dantri-widget-vote zone-id="'.concat(_.cate_id,'"></div>'))(l.$new())),!1});break;case i.XdsSlots.ARTICLE_BANNER:o.addHandler(v,function(){return e.then(function(n){if(n&&n.length){if(!r[0]||!r[0].ads||!r[0].ads.length)return m.resolve(!0);n=r[0].ads.slice(0,3).map(function(n){var t="".concat(n.link,"#dt_source=Home&amp;dt_campaign=Box_DungBoLo&amp;dt_medium=1");return"<".concat("li",'>\n    <div class="news-item news-item--normal">\n      <a class="news-item__avatar"  href="').concat(t,'">                        \n        <div class="dt-thumbnail dt-thumbnail--3x2"> \n          <img src="').concat(jsSettings.ImageDomain,"/zoom/418_278/").concat(n.image,'" alt="').concat(h(n.title),'"/>\n        </div>\n      </a>  \n    </div>\n    <div class="news-item__content">\n      <h3 class="news-item__title"> \n        <a title="').concat(h(n.title),'" href="').concat(t,'">').concat(n.title,"</a> \n      </h3\n    </div>\n  </").concat("li",">")}).join(""),n=$('<section class="dt-section dt-section--primary dt-section--fit mt-4">\n                  <header class="dt-section__header">\n                      <div class="dt-section__title text-uppercase"> Có thể bạn quan tâm </div>\n                  </header>\n                  <div class="dt-section__body"> \n                      <ul class="dt-list dt-list--grid dt-list--grid-3">\n                          '.concat(n,"\n                      </ul>\n                  </div>\n              </section>"));return $(o.el).append(n),m.resolve(!0)}return m.resolve(!1)})});break;case i.XdsSlots.HOME_NATIVE_5:o.addHandler(v,function(){return e.then(function(n){if(r&&r.length){var t="Mobile"===jsSettings.AppType,e=t?"dt-section dt-section--gradient":"dt-section dt-section--primary dt-section--fit mt-4",i="",a=t?"div":"li",i=r[0].ads.slice(0,2).map(function(n){var t="".concat(n.link,"#dt_source=Home&amp;dt_campaign=Box_DungBoLo&amp;dt_medium=1");return"<".concat(a,'>\n  <div class="news-item news-item--normal">\n    <a class="news-item__avatar"  href="').concat(t,'">                        \n      <div class="dt-thumbnail dt-thumbnail--3x2"> \n        <img src="').concat(jsSettings.ImageDomain,"/zoom/418_278/").concat(n.image,'"/>\n      </div>\n    </a>  \n  </div>\n  <div class="news-item__content">\n    <h3 class="news-item__title"> \n      <a title="').concat(n.title,'" href="').concat(t,'">').concat(n.title,"</a> \n    </h3>\n  </div>\n</").concat(a,">")}).join("");i=t?i:'<ul class="dt-list dt-list--grid dt-list--grid-2">'.concat(i,"</ul>");i=$('\n                      <section class="'.concat(e,'">\n                          <header class="dt-section__header">\n                              <div class="dt-section__title ').concat(t?"":"text-uppercase",'">Được quan tâm</div>\n                          </header>\n                          <div class="dt-section__body">\n                             ').concat(i,"\n                          </div>\n                      </section>"));return $(o.el).append(i),m.resolve(!0)}return m.resolve(!1)})});break;case i.XdsSlots.HOME_NATIVE_1:o.addHandler(v,function(){return c.renderAds(o).done(function(){return m.resolve(!0)})})}}),g(917,45,24),o("".concat(i.CommonCDN,"/fe/render.min.js"))}}]).directive("sponsorNews",["$http","config",function(e,r){return{restrict:"EA",transclude:!0,replace:!0,scope:{articles:"=?",isMobile:"=?"},template:i(206),link:function(a,n,t){$(n).removeClass("ng-isolate-scope");var o=t.isMobile?"208_138":"418_278";e.get(r.WebApi+"/ArticleSps/"+t.sponsorNews).then(function(n){var t,e=n.data;for(t in e){var i=e[t];i.image=i.image.replace(r.ImageDomain,"".concat(r.ImageDomain,"/zoom/").concat(o)),i.link="".concat(i.link,"#dt_source=Article&dt_campaign=Box_TinTaiTro&dt_medium=").concat(parseInt(t)+1)}a.articles=c(e,3)})}}}])},201:function(n,t){n.exports="<div class=fica> <a ng-href={{banner.link}}> <img ng-src={{banner.image}} /> </a> </div>"},206:function(n,t){n.exports='<section ng-show="articles && articles.length" ng-class="isMobile?\'dt-section dt-section--gradient\':\'dt-section dt-section--primary dt-section--fit mt-4\'"> <header class=dt-section__header> <div ng-class="!isMobile?\'text-uppercase\':\'\'" class=dt-section__title> Có thể bạn quan tâm </div> </header> <div class=dt-section__body> <ul class="dt-list dt-list--grid dt-list--grid-3"> <li ng-repeat="article in articles"> <div ng-class="isMobile?\'news-item news-item--left2right\':\'news-item news-item--normal\'"> <a class=news-item__avatar ng-attr-title={{article.title}} ng-href={{article.link}}> <div class="dt-thumbnail dt-thumbnail--3x2"> <img ng-src={{article.image}} ng-alt={{article.title}}> </div> </a> <div class=news-item__content> <h3 class=news-item__title> <a ng-href={{article.link}} ng-title={{article.title}}>{{article.title}}</a> </h3> </div> </div> </li> </ul> </div> </section>'},208:function(n,t){n.exports='<section class="dt-section dt-section--box dt-section--primary"> <header class=dt-section__header> <h2 class=dt-section__title> Video </h2> </header> <div class=dt-section__body> <ul class="dt-list dt-list--sm"> <li> <div class="news-item news-item--normal"> <div style=margin-bottom:15px> <div class="dt-thumbnail dt-thumbnail--16x9" x-data-video-id={{videoId}}></div> </div> <div class=news-item__content> <h3 class=news-item__title> {{title}} </h3> <div class=news-item__sapo>{{desc}}</div> </div> </div> </li> </ul> </div> </section>'},225:function(n,t){n.exports=function(){setTimeout(function(){$(".dt-ads-sticky").each(function(){var n=$(this).data("sl"),n=$(this).offset().top+n.sticky.top;$(this).attr("sticky-top",n)})},1e3),$(window).scroll(function(){$(".dt-ads-sticky").each(function(){var n=$(this).data("sl"),t=n.sticky.parent.height()+$(this).height()-210,e=parseInt($(this).attr("sticky-top")),i=$(window).scrollTop();e<=i&&i<t?$(".dt-ads-sticky").css({position:"fixed",top:n.sticky.top,left:"18"}):$(".dt-ads-sticky").css({position:"static"})})})}},250:function(n,t,e){var o=e(0);e(2).service("hijackCognito",["$http",function(){return function(n){for(var t,e=arguments.length,a=new Array(1<e?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];void 0===n&&(n=-1),a=(a||[]).map(function(n){return parseInt(n)}),n=n||-1,(t=o.defer(),function n(){"undefined"!=typeof Cognito?t.resolve(Cognito):setTimeout(n,200)}(),t.promise).then(function(){$(document).on("beforeSubmit.cognito",function(n,t){var e=Cognito.Forms.model.entry,i=parseInt(e._Form._Id);-1!=a.indexOf(i)&&(e["_LinkBài"]=location.href,e._Entry.setValue("Refered",location.href))})})}}])},662:function(n,t,e){e(2).directive("autoFica",["config","bannerData",function(i,a){return{restrict:"AE",scope:!1,template:e(201),link:function(t,n,e){$(n).attr("dt-slot","fica-3-0"),a.getJson(n).then(function(n){a.getBanner(n.category,n.position).then(function(n){n&&n.length&&((n=n[parseInt(Math.random()*n.length*57005)%n.length]).image.match(/^http/)||(n.image="/".concat(n.image).replace(/\/+/g,"/"),n.image="".concat(i.ImageDomain).concat(n.image)),t.banner=n)})})}}}])},663:function(n,t,e){e(0);var o=e(34).WIDGET;e(2).service("xds-widget",["config","adsSlot","$compile","$rootScope","externalScript",function(t,n,e,i,a){return function(){console.log("widget render");n.getSlots().forEach(function(n){n.id===t.XdsSlots.TOP_NEXT_TO_DT_LOGO&&n.addHandler(o,function(){return $(n.el).append('<div onclick="location.href=\'/suc-khoe/dai-dich-covid-19.htm\'" id="corona-banner" style="margin: 10px auto;width: 670px!important;cursor: pointer; display: inline-block;"><iframe style="width: 100%; pointer-events: none; height: 30px;" frameborder="0" src="https://gadgets.dantri.com.vn/corona/mini"></iframe></div>'),!0})})}}])},664:function(n,t){n.exports={escapedHtml:function(n){return n?n.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):null}}},665:function(n,t){n.exports=function(n,t){if(n.length>t){for(var e=[],i=0;i<t;i++){var a=n.length,o=Math.floor(Math.random()*(a-1)),a=n[o];e.push(a),n.splice(o,1)}return e}return n}},667:function(n,t,e){}}]);